swagger: "2.0"
info:
  title: "MinIO API"
  description: "API to interact with MinIO for uploading, fetching, and deleting files"
  version: "1.0.0"
host: "localhost:8080"
basePath: "/"
schemes:
  - "http"
paths:
  /upload:
    post:
      summary: "Upload a file to MinIO"
      description: "Upload a file to MinIO storage"
      consumes:
        - "multipart/form-data"
      produces:
        - "application/json"
      parameters:
        - in: "formData"
          name: "file"
          description: "File to upload"
          required: true
          type: "file"
      responses:
        "200":
          description: "File uploaded successfully"
          schema:
            type: "object"
            properties:
              file_url:
                type: "string"
                description: "URL of the uploaded file"
        "400":
          description: "Invalid input"
          schema:
            type: "object"
            properties:
              error:
                type: "string"
                description: "Error message"
        "500":
          description: "Internal server error"
          schema:
            type: "object"
            properties:
              error:
                type: "string"
                description: "Error message"
  /files/{filepath}:
    get:
      summary: "Get a file from MinIO"
      description: "Fetch a file from MinIO storage by its file path"
      parameters:
        - in: "path"
          name: "filepath"
          required: true
          type: "string"
          description: "File path to fetch from MinIO"
      responses:
        "200":
          description: "File fetched successfully"
          schema:
            type: "object"
            properties:
              image:
                type: "string"
                description: "Base64-encoded image or file content"
        "404":
          description: "File not found"
          schema:
            type: "object"
            properties:
              error:
                type: "string"
                description: "Error message"
    delete:
      summary: "Delete a file from MinIO"
      description: "Delete a file from MinIO storage by its file path"
      parameters:
        - in: "path"
          name: "filepath"
          required: true
          type: "string"
          description: "File path to delete from MinIO"
      responses:
        "200":
          description: "File deleted successfully"
        "404":
          description: "File not found"
          schema:
            type: "object"
            properties:
              error:
                type: "string"
                description: "Error message"
